<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

<script>
  AOS.init();
</script>


<nav id="navigation" class="sticky">
  <div class="nav-sides nav-text shadowed-text">
    <a href="/about" title="Get to know more about me!">
      <script>document.write(JSON.parse(window.curr_lang["content"])["header.about"])</script>
    </a>
    <a href="/contact" title="Contact me!">
      <script>document.write(JSON.parse(window.curr_lang["content"])["header.contact"])</script>
    </a>
  </div>

  <div id="selector" class="nav-sides">
    <label id="lang_label" class="nav-text shadowed-text" for="lang_selector"></label>
    <select id="lang_selector" name="lang_selector" onchange="setLang()">
    </select>
  </div>
</nav>

<div class="big-title shadowed-text">
  <a href="/">
    <h1>Code Surfer</h1>
    <h2 id="small_title"></h2>
  </a>
</div>


<script>
  let curr_lang_json = JSON.parse(window.curr_lang["content"]);
  document.getElementById("small_title").innerHTML = curr_lang_json["header.small_title"];
  document.getElementById("lang_label").innerHTML = curr_lang_json["header.lang_label"] + " :";
  
  
  let lang_selector = document.getElementById("lang_selector");

  for(const lang of window.all_langs) {
    let lang_opt = document.createElement("option");
    lang_opt.value = lang.id;
    lang_opt.innerHTML = lang.name;
    lang_opt.selected = (lang.id === Number(JSON.parse(window.curr_lang["id"])));
    lang_selector.appendChild(lang_opt);
  }

  function setLang() {
    $.ajax({
      type: "POST",
      url: "/setLang",
      contentType: "application/json; charset=utf-8",
      data: JSON.stringify({
        val: lang_selector.value
      })
    });
    location.reload();
  }
</script>

<hr/>